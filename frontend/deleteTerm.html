<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/styledeleteterm.css">
    <link rel="stylesheet" href="styles/list_styles.css">
    <link rel="stylesheet" href="styles/common_styles.css">
    <title>Delete term</title>
</head>
<body>
    <h1>Delete Inspection term</h1>
    <div style="width: 100%; display: flex; ">
    <div id="search"  class="container_list">

        
        <input type="text" id="searchInput" placeholder="Search document..." oninput="filterByName()">
        Search date
        <input type="date" id="datePicker" name="date_picker" value="" oninput="filterByDate()" >
        Filter by           
        <select id="filterSelect">
            <option value="new">Newest</option>
            <option value="old">Oldest</option>
            <option value="recently">Recently added</option>
        </select>
        
        <hr style="border-top: 3px static #000000;">

        <div class="containder_scroll">
            <ul id="itemList">
                <li name="tmp" data-date="2024-12-02">
                    <div class="inner_list_div">
                        <span>2024-12-01, dr. Jędrzej Dąbek - Podstawy Przedsiębiorczości</span>
                        <button type="submit" style="border: none; background: none; padding: 0;">
                            <img src="trash.png" alt="Delete button" class="trash_img" onclick="deleteItem(this)">
                        </button>
                    </div>


                </li>
                <li name="tmp" data-date="2024-12-02">
                    <div class="inner_list_div">
                        <span>2024-12-02, dr. Jan Nowak - Programowawnie gier komputerowych</span>
                        <button type="submit" style="border: none; background: none; padding: 0;">
                            <img src="trash.png" alt="Delete button" class="trash_img" onclick="deleteItem(this)">
                        </button>
                    </div>
                </li>
                <li name="tmp" data-date="2024-12-03">
                    <div class="inner_list_div">
                        <span>2024-12-03, mgr inż Anna Bąk - Paradygmaty Programowania</span>
                        <button type="submit" style="border: none; background: none; padding: 0;">
                            <img src="trash.png" alt="Delete button" class="trash_img" onclick="deleteItem(this)">
                        </button>
                    </div>
                </li>
                <li name="tmp" data-date="2024-12-04">
                    <div class="inner_list_div">
                        <span>2024-12-04, dr. Miłosz Kowalski - Analiza Matematyczna 1</span>
                        <button type="submit" class="delete_button">
                            <img src="trash.png" alt="Delete button" class="trash_img" onclick="deleteItem(this)">
                        </button>
                    </div>
                </li>
                <li name="tmp" data-date="2024-12-05">
                    <div class="inner_list_div">
                        <span>2024-12-05, dr. Szymon Wąs - Analiza Matematyczna 2</span>
                        <button type="submit" class="delete_button">
                            <img src="trash.png" alt="Delete button" class="trash_img" onclick="deleteItem(this)">
                        </button>
                    </div>
                </li>
                <li name="tmp" data-date="2024-12-09">
                    <div class="inner_list_div">
                        <span>2024-12-08, dr. Iwona Perła - Fizyka 2</span>
                        <button type="submit" class="delete_button">
                            <img src="trash.png" alt="Delete button" class="trash_img" onclick="deleteItem(this)">
                        </button>
                    </div>
                </li>
                
            </ul>
        </div>



        
        <a class="button" id="button" style="position: absolute; bottom: 0; right: 0; margin: 20px ;" href="index.html">Return to Main</a>
        
    </div> 
</div>  
    

    <script>

        function filterByDate() {
            const selectedDate = document.getElementById("datePicker").value; 
            const items = document.querySelectorAll("#itemList li"); 

            console.log(items);
            console.log(selectedDate);

            if (selectedDate === "") { 
                items.forEach(item => {
                    item.style.display = "block";
                });
                return;
            }

            items.forEach(item => {
                const itemDate = item.getAttribute("data-date"); 
                console.log(item);
                console.log(item.date);
                console.log(itemDate);
                if (itemDate === selectedDate) {
                    item.style.display = "block";
                    console.log(itemDate);
                } else {
                    item.style.display = "none";
                }
            });
        }

    
            function filterByName() {
            const searchValue = document.getElementById("searchInput").value.toLowerCase();
            const items = document.querySelectorAll("#itemList li");
            console.log(items);
            console.log(searchValue);
            if(searchValue === "") {
                    items.forEach(item => {
                        item.style.display = "block";
                    });
            return;}   


            items.forEach(item => {
                const text = item.textContent.toLowerCase();

                if (text.includes(searchValue)) {
                    item.style.display = "block";
                    console.log(text);
                } else {
                    item.style.display = "none";
                    
                }
            });
        }        


        function deleteItem(button) {
            if (false){

                const overlay = document.createElement('div');
                        overlay.className = 'popup_overlay';
                        
                        const content = document.createElement('div');
                        content.className = 'popup_content';
    
                        
                        const text = document.createElement('p');
                        text.className = 'popup_text';
                        text.textContent = 'Selected inspection already has been conducted';
                        content.appendChild(text);
    
    
                        const okButton = document.createElement('button');
                        okButton.className = 'ok_popup_btn';
                        okButton.textContent = 'Ok';
                        content.appendChild(okButton);
    
                        overlay.appendChild(content);
                        document.body.appendChild(overlay);
    
                        okButton.addEventListener('click', () => {
                            overlay.remove();
                        });
                return;
            }

            const overlay = document.createElement('div');
            overlay.className = 'popup_overlay';

            const content = document.createElement('div');
            content.className = 'popup_content';


            const text = document.createElement('p');
            text.className = 'popup_text';
            text.textContent = 'Do you want to delete this term?';
            content.appendChild(text);


            const saveButton = document.createElement('button');
            const cancelButton = document.createElement('button');
            saveButton.className = 'save_popup_btn';
            cancelButton.className = 'cancel_popup_btn';
            saveButton.textContent = 'Ok';
            cancelButton.textContent = 'Cancel';
            content.appendChild(saveButton);
            content.appendChild(cancelButton);

            overlay.appendChild(content);
            document.body.appendChild(overlay);

            saveButton.addEventListener('click', () => {
                overlay.remove();
                
                const listItem = button.closest("li"); 
                listItem.remove(); 
            });
            cancelButton.addEventListener('click', () => {
                overlay.remove();
            });
            }

    </script>
    
</body>
</html>